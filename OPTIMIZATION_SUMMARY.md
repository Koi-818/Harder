# é¡¹ç›®ä¼˜åŒ–æ€»ç»“

## ğŸ“‹ æ¸…ç†é¡¹ç›®

### åˆ é™¤çš„æ–‡ä»¶å’ŒåŠŸèƒ½

**å·²åˆ é™¤çš„è„šæœ¬æ–‡ä»¶ï¼š**
- âŒ `src/har-blocker.js` - HAR æ—¶é—´é—´éš”åˆ†å—å’Œæ³¨é‡ŠåŠŸèƒ½
- âŒ `src/har-to-vugen.js` - VuGen æ³¨é‡Šæ–‡ä»¶ç”Ÿæˆ
- âŒ `src/har-to-loadrunner.js` - LoadRunner è„šæœ¬ç”Ÿæˆ
- âŒ `src/apply-vugen-annotations.js` - VuGen æ³¨é‡Šåº”ç”¨å·¥å…·
- âŒ `src/inject-vugen-annotations.js` - VuGen æ³¨é‡Šæ³¨å…¥å·¥å…·
- âŒ `src/har-recorder.js` - å†—ä½™çš„ HAR å½•åˆ¶æ¨¡å—ï¼ˆå·²åˆå¹¶è‡³ cli.jsï¼‰
- âŒ `hars/` ç›®å½•ä¸‹æ‰€æœ‰ç”Ÿæˆçš„æ³¨é‡Šæ–‡ä»¶å’Œæµ‹è¯•æ–‡ä»¶

**å·²æ¸…ç†çš„ npm è„šæœ¬ï¼š**
- âŒ `annotate` - HAR æ³¨é‡Šè„šæœ¬
- âŒ `vugen` - VuGen æ³¨é‡Šç”Ÿæˆè„šæœ¬
- âŒ `lr-gen` - LoadRunner è„šæœ¬ç”Ÿæˆè„šæœ¬
- âŒ `lr-apply` - LoadRunner æ³¨é‡Šåº”ç”¨è„šæœ¬

### åˆ é™¤çš„åŠŸèƒ½

- âŒ LoadRunner è„šæœ¬ç”Ÿæˆå’Œåº”ç”¨
- âŒ VuGen æ³¨é‡Šç”Ÿæˆå’Œæ³¨å…¥
- âŒ æ—¶é—´é—´éš”åˆ†å—å’Œæ³¨é‡Šç³»ç»Ÿ
- âŒ æ‰€æœ‰ä¸åŠ è½½æµ‹è¯•å·¥å…·é›†æˆç›¸å…³çš„ä»£ç 

---

## âœ… é¡¹ç›®ç°çŠ¶

### ä¿ç•™çš„æ ¸å¿ƒåŠŸèƒ½

**src/cli.js** - ä¸»ç¨‹åºï¼ŒåŒ…å«ï¼š
- âœ“ äº¤äº’å¼æµè§ˆå™¨é€‰æ‹©å’Œ URL è¾“å…¥
- âœ“ è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨å…³é—­ï¼ˆæ— éœ€æ‰‹åŠ¨æŒ‰ Enterï¼‰
- âœ“ æ ‡å‡† HAR 1.2 æ ¼å¼æ–‡ä»¶ç”Ÿæˆ
- âœ“ è‡ªåŠ¨ç»Ÿè®¡ï¼ˆè¯·æ±‚æ•°ã€æ€»æ—¶é—´ã€æ€»å¤§å°ã€å¤±è´¥è¯·æ±‚ï¼‰
- âœ“ æ”¯æŒ Chromiumã€Firefoxã€WebKit ä¸‰ç§æµè§ˆå™¨

### ä¼˜åŒ–çš„ä»£ç ç»“æ„

**æ”¹è¿›å†…å®¹ï¼š**
- âœ“ å°† `har-recorder.js` å’Œ `cli.js` çš„åŠŸèƒ½åˆå¹¶
- âœ“ æå–å…¬å…±å‡½æ•°ï¼š`detectBrowserClose()` å’Œ `showHARStats()`
- âœ“ æ”¹è¿›ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£
- âœ“ ç§»é™¤æ‰€æœ‰ LoadRunner/VuGen ç›¸å…³ä»£ç 
- âœ“ ç®€åŒ– package.jsonï¼Œåªä¿ç•™å¿…è¦è„šæœ¬

### é¡¹ç›®ç»“æ„

```
har-record/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ cli.js                 # ä¸»ç¨‹åºï¼ˆå”¯ä¸€çš„ Node.js è„šæœ¬ï¼‰
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ example.spec.js        # Playwright æµ‹è¯•
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ QUICK-START.md         # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ hars/                      # HAR è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰
â”œâ”€â”€ playwright.config.js       # Playwright é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£ï¼ˆå·²æ›´æ–°ï¼‰
```

---

## ğŸ“Š npm è„šæœ¬

ç°åœ¨åªæœ‰ä»¥ä¸‹è„šæœ¬å¯ç”¨ï¼š

```json
{
  "scripts": {
    "test": "playwright test",
    "test:debug": "playwright test --debug",
    "start": "node src/cli.js",
    "dev": "node src/cli.js",
    "record": "node src/cli.js"
  }
}
```

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¯åŠ¨ HAR å½•åˆ¶

```bash
npm start
# æˆ–
npm run record
```

### è¿è¡Œæµ‹è¯•

```bash
npm test
# æˆ–è°ƒè¯•æ¨¡å¼
npm run test:debug
```

---

## ğŸ“ æ–‡ä»¶å˜æ›´ç»Ÿè®¡

| æ“ä½œ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| åˆ é™¤è„šæœ¬æ–‡ä»¶ | 6 | har-blocker, har-to-vugen, har-to-loadrunner, apply, inject, har-recorder |
| åˆ é™¤ç›®å½• | 1 | æ•´ä¸ª hars/ ç›®å½•ï¼ˆåŒ…å«ç”Ÿæˆçš„æ–‡ä»¶ï¼‰ |
| åˆå¹¶è„šæœ¬ | 2 | cli.js å’Œ har-recorder.js åˆå¹¶ |
| åˆ é™¤ npm è„šæœ¬ | 4 | annotate, vugen, lr-gen, lr-apply |
| æ›´æ–° README | 1 | é‡æ–°ç¼–å†™æ–‡æ¡£ |
| æå–å‡½æ•° | 2 | detectBrowserClose, showHARStats |

---

## ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿

âœ¨ **ç®€æ´**
- å•ä¸€èŒè´£ï¼šåªè´Ÿè´£ HAR å½•åˆ¶
- ä»£ç ä½“ç§¯å‡å°‘çº¦ 80%
- ä¾èµ–æœ€å°åŒ–

âœ¨ **ä¸“æ³¨**
- é›†ä¸­åœ¨æµè§ˆå™¨è‡ªåŠ¨åŒ–å’Œ HAR è®°å½•
- ç§»é™¤å¤æ‚çš„å·¥å…·é›†æˆä»£ç 
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

âœ¨ **æ˜“ç”¨**
- äº¤äº’å¼ç•Œé¢æ¸…æ™°ç›´è§‚
- è‡ªåŠ¨æµè§ˆå™¨å…³é—­æ£€æµ‹
- è‡ªåŠ¨ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯

---

## ğŸ”® æœªæ¥æ–¹å‘

å¦‚æœéœ€è¦é‡æ–°æ·»åŠ åŠŸèƒ½ï¼Œå»ºè®®ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡** - ä½¿ç”¨ç‹¬ç«‹çš„æ¨¡å—å¤„ç†ä¸åŒåŠŸèƒ½
2. **åˆ†ç¦»å…³æ³¨ç‚¹** - ä¿æŒå½•åˆ¶ã€ç”Ÿæˆã€åº”ç”¨ä¸‰ä¸ªé˜¶æ®µç‹¬ç«‹
3. **å¯é…ç½®åŒ–** - ä½¿ç”¨é…ç½®æ–‡ä»¶æˆ– CLI å‚æ•°çµæ´»æ§åˆ¶
4. **æ’ä»¶ç³»ç»Ÿ** - å…è®¸ç”¨æˆ·æ’ä»¶è‡ªå®šä¹‰åå¤„ç†é€»è¾‘

---

**ä¼˜åŒ–å®Œæˆäºï¼š** 2026-01-30
